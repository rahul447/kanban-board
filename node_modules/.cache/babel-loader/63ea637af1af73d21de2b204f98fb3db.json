{"ast":null,"code":"import _toConsumableArray from \"/Users/rkhanna/Desktop/react-codesandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectWithoutProperties from \"/Users/rkhanna/Desktop/react-codesandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/rkhanna/Desktop/react-codesandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/rkhanna/Desktop/react-codesandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/rkhanna/Desktop/react-codesandbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _excluded = [\"cardRows\"];\n\nvar _jsxFileName = \"/Users/rkhanna/Desktop/react-codesandbox/src/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport \"./styles.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport { cardsMock } from \"./Configs\";\nimport Cards from \"./Cards\";\nimport { getTagsSet } from \"./utils\";\nimport AddCard from \"./AddCard\";\nimport Modal from \"@mui/material/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchVal = _useState2[0],\n      setSearchVal = _useState2[1];\n\n  var _useState3 = useState(cardsMock),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visibleCards = _useState4[0],\n      setVisibleCards = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      tagsList = _useState6[0],\n      setTagsList = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      open = _useState8[0],\n      setOpen = _useState8[1];\n\n  var handleOpen = function handleOpen() {\n    return setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    return setOpen(false);\n  };\n\n  useEffect(function () {\n    var tagsSet = getTagsSet();\n    var tagsList = [];\n\n    var _iterator = _createForOfIteratorHelper(tagsSet.values()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n        tagsList.push({\n          label: value\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    setTagsList(tagsList);\n  }, [cardsMock]);\n\n  var setSearchState = function setSearchState(event) {\n    setSearchVal(event.target.value);\n  };\n\n  var renderTagsFilter = function renderTagsFilter() {\n    return /*#__PURE__*/_jsxDEV(Autocomplete, {\n      disablePortal: true,\n      id: \"select-tag\",\n      options: tagsList,\n      sx: {\n        width: 100\n      },\n      renderInput: function renderInput(params) {\n        return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n          label: \"Tags\"\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 34\n        }, _this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var filterSearchResults = function filterSearchResults(event) {\n    if (event.key === \"Enter\") {\n      if (searchVal) {\n        var filteredCardsMock = cardsMock.map(function (cardMock) {\n          var cardRows = cardMock.cardRows,\n              rest = _objectWithoutProperties(cardMock, _excluded);\n\n          var modifiedCardRows = cardRows && cardRows.length > 0 ? cardRows.filter(function (_ref) {\n            var cardTitle = _ref.cardTitle,\n                cardDesc = _ref.cardDesc,\n                cardVersion = _ref.cardVersion;\n            console.log(\"^^^\", searchVal, \"@@@ :\", cardTitle, cardTitle.includes(searchVal), \"!!!\", cardDesc, cardDesc.includes(searchVal), \"###\", cardVersion, cardVersion.includes(searchVal));\n            return cardTitle.includes(searchVal) || cardDesc.includes(searchVal) || cardVersion.includes(searchVal);\n          }) : cardRows;\n          console.log(\"modifiedCardRows :\", modifiedCardRows);\n\n          var modifiedMock = _objectSpread(_objectSpread({}, rest), {}, {\n            cardRows: modifiedCardRows\n          });\n\n          return modifiedMock;\n        });\n        console.log(\"filteredCardsMock :\", filteredCardsMock);\n        setVisibleCards(filteredCardsMock);\n      } else setVisibleCards(cardsMock);\n    }\n  };\n\n  var updateCards = function updateCards(newCard) {\n    var backLogObj = _objectSpread({}, cardsMock.find(function (mock) {\n      return mock.cardsState === \"Backlog\";\n    }));\n\n    var backLogCardRows = backLogObj.cardRows;\n    backLogCardRows.push(newCard);\n    var allExceptBackLogCards = cardsMock.filter(function (mock) {\n      return mock.cardsState !== \"Backlog\";\n    });\n    setVisibleCards([backLogObj].concat(_toConsumableArray(allExceptBackLogCards)));\n    handleClose();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Kanban Board\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-tags-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"search this board\",\n            name: \"search\",\n            value: searchVal,\n            onKeyDown: filterSearchResults,\n            onChange: setSearchState,\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-search search-icon\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), renderTagsFilter()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cards-container\",\n        children: /*#__PURE__*/_jsxDEV(Cards, {\n          handleOpen: handleOpen,\n          visibleCards: visibleCards\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"modal-modal-title\",\n      \"aria-describedby\": \"modal-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(AddCard, {\n        saveCardCallBack: function saveCardCallBack(newCard) {\n          return updateCards(newCard);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Dashboard, \"ZkgWnCpOeOKPqij7mwa5KR8Or7Y=\");\n\n_c = Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Autocomplete","TextField","cardsMock","Cards","getTagsSet","AddCard","Modal","Dashboard","searchVal","setSearchVal","visibleCards","setVisibleCards","tagsList","setTagsList","open","setOpen","handleOpen","handleClose","tagsSet","values","value","push","label","setSearchState","event","target","renderTagsFilter","width","params","filterSearchResults","key","filteredCardsMock","map","cardMock","cardRows","rest","modifiedCardRows","length","filter","cardTitle","cardDesc","cardVersion","console","log","includes","modifiedMock","updateCards","newCard","backLogObj","find","mock","cardsState","backLogCardRows","allExceptBackLogCards"],"sources":["/Users/rkhanna/Desktop/react-codesandbox/src/Dashboard.js"],"sourcesContent":["import \"./styles.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport { cardsMock } from \"./Configs\";\nimport Cards from \"./Cards\";\nimport { getTagsSet } from \"./utils\";\nimport AddCard from \"./AddCard\";\nimport Modal from \"@mui/material/Modal\";\n\nexport default function Dashboard() {\n  const [searchVal, setSearchVal] = useState(\"\");\n  const [visibleCards, setVisibleCards] = useState(cardsMock);\n  const [tagsList, setTagsList] = useState([]);\n\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  useEffect(() => {\n    const tagsSet = getTagsSet();\n\n    const tagsList = [];\n\n    for (let value of tagsSet.values()) {\n      tagsList.push({ label: value });\n    }\n    setTagsList(tagsList);\n  }, [cardsMock]);\n\n  const setSearchState = (event) => {\n    setSearchVal(event.target.value);\n  };\n\n  const renderTagsFilter = () => {\n    return (\n      <Autocomplete\n        disablePortal\n        id=\"select-tag\"\n        options={tagsList}\n        sx={{ width: 100 }}\n        renderInput={(params) => <TextField {...params} label=\"Tags\" />}\n      />\n    );\n  };\n\n  const filterSearchResults = (event) => {\n    if (event.key === \"Enter\") {\n      if (searchVal) {\n        const filteredCardsMock = cardsMock.map((cardMock) => {\n          const { cardRows, ...rest } = cardMock;\n\n          const modifiedCardRows =\n            cardRows && cardRows.length > 0\n              ? cardRows.filter(({ cardTitle, cardDesc, cardVersion }) => {\n                  console.log(\n                    \"^^^\",\n                    searchVal,\n                    \"@@@ :\",\n                    cardTitle,\n                    cardTitle.includes(searchVal),\n                    \"!!!\",\n                    cardDesc,\n                    cardDesc.includes(searchVal),\n                    \"###\",\n                    cardVersion,\n                    cardVersion.includes(searchVal)\n                  );\n                  return (\n                    cardTitle.includes(searchVal) ||\n                    cardDesc.includes(searchVal) ||\n                    cardVersion.includes(searchVal)\n                  );\n                })\n              : cardRows;\n\n          console.log(\"modifiedCardRows :\", modifiedCardRows);\n          let modifiedMock = { ...rest, cardRows: modifiedCardRows };\n          return modifiedMock;\n        });\n\n        console.log(\"filteredCardsMock :\", filteredCardsMock);\n        setVisibleCards(filteredCardsMock);\n      } else setVisibleCards(cardsMock);\n    }\n  };\n\n  const updateCards = (newCard) => {\n    const backLogObj = {\n      ...cardsMock.find((mock) => mock.cardsState === \"Backlog\"),\n    };\n\n    const backLogCardRows = backLogObj.cardRows;\n\n    backLogCardRows.push(newCard);\n    const allExceptBackLogCards = cardsMock.filter(\n      (mock) => mock.cardsState !== \"Backlog\"\n    );\n    setVisibleCards([backLogObj, ...allExceptBackLogCards]);\n    handleClose();\n  };\n\n  return (\n    <>\n      <div className=\"dashboard\">\n        <h1>Kanban Board</h1>\n        <div className=\"search-tags-container\">\n          <div className=\"search-wrapper\">\n            <input\n              placeholder=\"search this board\"\n              name=\"search\"\n              value={searchVal}\n              onKeyDown={filterSearchResults}\n              onChange={setSearchState}\n              className=\"search-input\"\n            ></input>\n            <i className=\"fa fa-search search-icon\" aria-hidden=\"true\"></i>\n          </div>\n          {renderTagsFilter()}\n        </div>\n        <div className=\"cards-container\">\n          <Cards handleOpen={handleOpen} visibleCards={visibleCards}></Cards>\n        </div>\n      </div>\n      {open && (\n        <Modal\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\"\n        >\n          <AddCard\n            saveCardCallBack={(newCard) => updateCards(newCard)}\n          ></AddCard>\n        </Modal>\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}